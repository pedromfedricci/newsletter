{
  "db": "PostgreSQL",
  "0b606d83801451c5b8c5fe5430c39b621d0a40b05db410aba5a757fd5cedfaf7": {
    "describe": {
      "columns": [
        {
          "name": "username",
          "ordinal": 0,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "SELECT username FROM users WHERE user_id = $1"
  },
  "21a4c4537a4ac5f4a69dbac68a1f5012890c064fe1bbc1ee4b8e86dbbe72beb1": {
    "describe": {
      "columns": [
        {
          "name": "newsletter_issue_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "subscriber_email",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "\n        SELECT newsletter_issue_id, subscriber_email\n        FROM issue_delivery_queue\n        FOR UPDATE\n        SKIP LOCKED\n        LIMIT 1  \n        "
  },
  "43116d4e670155129aa69a7563ddc3f7d01ef3689bb8de9ee1757b401ad95b46": {
    "describe": {
      "columns": [
        {
          "name": "title",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "text_content",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "html_content",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        SELECT title, text_content, html_content\n        FROM newsletter_issues\n        WHERE newsletter_issue_id = $1\n        "
  },
  "5e1ef32840afbd8fb3202b9de4a490b52622369d2ace4c0aa56d4b3e2790b301": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n        DELETE FROM issue_delivery_queue\n        WHERE\n            newsletter_issue_id = $1\n            AND\n            subscriber_email = $2\n        "
  },
  "7663ad57a1e6e241051863a492f52987a940153a4264e96cb9e0f538c79cb21e": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int2",
          {
            "Custom": {
              "kind": {
                "Array": {
                  "Custom": {
                    "kind": {
                      "Composite": [
                        [
                          "name",
                          "Text"
                        ],
                        [
                          "value",
                          "Bytea"
                        ]
                      ]
                    },
                    "name": "header_pair"
                  }
                }
              },
              "name": "_header_pair"
            }
          },
          "Bytea"
        ]
      }
    },
    "query": "\n        UPDATE idempotency\n        SET\n            response_status_code = $3,\n            response_headers = $4,\n            response_body = $5\n        WHERE\n            user_id = $1\n            AND\n            idempotency_key = $2\n        "
  },
  "794c0ce1ab5e766961132366163df7a7183ae7985228bf585700250deb38b726": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Text"
        ]
      }
    },
    "query": "\n        INSERT INTO newsletter_issues (\n            newsletter_issue_id,\n            title,\n            text_content,\n            html_content,\n            published_at\n        )\n        VALUES ($1, $2, $3, $4, now())\n        "
  },
  "8331e19e367a63b0c2112d1d8c048dd1a5f0eaa49d265d407a6ffd9469f127ce": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO subscription_tokens (subscription_token, subscriber_id) VALUES ($1, $2)"
  },
  "9bfa261067713ca31b191c9f9bcf19ae0dd2d12a570ce06e8e2abd72c5d7b42d": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "\n        INSERT INTO issue_delivery_queue (\n            newsletter_issue_id,\n            subscriber_email\n        )\n        SELECT $1, email\n        FROM subscriptions\n        WHERE status = 'confirmed'\n        "
  },
  "a5d93ade3e8f1aba5f00b52011855493ca156f676797ec1c8665c807c80e5a12": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "INSERT INTO subscriptions (id, email, name, subscribed_at, status) VALUES ($1, $2, $3, $4, 'pending_confirmation')"
  },
  "a71a1932b894572106460ca2e34a63dc0cb8c1ba7a70547add1cddbb68133c2b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      }
    },
    "query": "UPDATE subscriptions SET status = 'confirmed' WHERE id = $1"
  },
  "aa1048e917e7918b479b36c5b9c3947146c499a1d4d7a85c7c1bcdddce57e219": {
    "describe": {
      "columns": [
        {
          "name": "user_id",
          "ordinal": 0,
          "type_info": "Uuid"
        },
        {
          "name": "password_hash",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT user_id, password_hash FROM users WHERE username = $1"
  },
  "acdca5ba9933dc74b9e7ffd5637344de1d7a08db0e6cf13bb8b81539aaaf3b1e": {
    "describe": {
      "columns": [
        {
          "name": "response_status_code!",
          "ordinal": 0,
          "type_info": "Int2"
        },
        {
          "name": "response_headers!: Vec<HeaderPairRecord>",
          "ordinal": 1,
          "type_info": {
            "Custom": {
              "kind": {
                "Array": {
                  "Custom": {
                    "kind": {
                      "Composite": [
                        [
                          "name",
                          "Text"
                        ],
                        [
                          "value",
                          "Bytea"
                        ]
                      ]
                    },
                    "name": "header_pair"
                  }
                }
              },
              "name": "_header_pair"
            }
          }
        },
        {
          "name": "response_body!",
          "ordinal": 2,
          "type_info": "Bytea"
        }
      ],
      "nullable": [
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n        SELECT\n            response_status_code as \"response_status_code!\",\n            response_headers as \"response_headers!: Vec<HeaderPairRecord>\",\n            response_body as \"response_body!\"\n        FROM idempotency\n        WHERE\n            user_id = $1\n            AND\n            idempotency_key = $2\n        "
  },
  "ad120337ee606be7b8d87238e2bb765d0da8ee61b1a3bc142414c4305ec5e17f": {
    "describe": {
      "columns": [
        {
          "name": "subscriber_id",
          "ordinal": 0,
          "type_info": "Uuid"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT subscriber_id FROM subscription_tokens WHERE subscription_token = $1"
  },
  "eae27786a7c81ee2199fe3d5c10ac52c8067c61d6992f8f5045b908eb73bab8b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      }
    },
    "query": "UPDATE users SET password_hash = $1 WHERE user_id = $2"
  },
  "f835e8ebdcd687acf7fcf845127617860abd3d7a806a900aa6d608c993dabb0b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      }
    },
    "query": "\n        INSERT INTO idempotency (\n            user_id,\n            idempotency_key,\n            created_at\n        )\n        VALUES ($1, $2, now())\n        ON CONFLICT DO NOTHING\n        "
  },
  "3a6e9a14e268d4c3a7e42c3505ffa4f34b40503d63429e38ddba6f6102f5b59b": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      }
    },
    "query": "INSERT INTO users (user_id, username, password_hash) VALUES ($1, $2, $3)"
  },
  "9ab6536d2bf619381573b3bf13507d53b2e9cf50051e51c803e916f25b51abd2": {
    "describe": {
      "columns": [
        {
          "name": "email",
          "ordinal": 0,
          "type_info": "Text"
        },
        {
          "name": "name",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "status",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT email, name, status FROM subscriptions"
  },
  "a0f200e7ab4a9b23eee065f6f4f081fe3b255e572fa522667fb3836a65480484": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "ALTER TABLE subscriptions DROP COLUMN email"
  }
}
